<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Практикум DOM (Мякишев В.С)</title>
  </head>
  <body>
    <h1>
      Задание № 1 - Дан инпут и абзац. По потери фокуса в инпуте запишите
      значение инпута в конец текста абзаца.
    </h1>
    <p id="paragraph1">Текст..</p>
    <input type="text" id="input1" value="" />
    <br />
    <h1>
      Задание № 2 - Дано несколько инпутов, абзац и кнопка. По нажатию на кнопку
      получите числа, стоящие в этих инпутах и запишите их сумму в абзац.
    </h1>
    <input type="text" id="input2_1" value="" />
    <input type="text" id="input2_2" value="" />
    <input type="text" id="input2_3" value="" />
    <p id="paragraph2">Cумма:</p>
    <button id="button2">Посчитать сумму</button>
    <br />
    <h1>
      Задание № 3 - Дан инпут. В него вводится число. По потери фокуса найдите
      сумму цифр этого числа.
    </h1>
    <input type="text" id="input3" value="" />
    <p id="paragraph3"></p>
    <br />
    <h1>
      Задание № 4 - Дан инпут. В него вводятся числа через запятую. По потери
      фокуса найдите среднее арифметическое этих чисел (сумма делить на
      количество).
    </h1>
    <input type="text" value="" id="input4" />
    <p id="paragraph4"></p>
    <br />
    <h1>
      Задание № 5 - Даны 4 инпута. В первый инпут вводится ФИО через пробел. По
      потери фокуса запишите фамилию, имя и отчество в остальные 3 инпута.
    </h1>
    <input type="text" id="input5_1" placeholder="Введите ФИО через пробел" />
    <input type="text" id="input5_2" />
    <input type="text" id="input5_3" />
    <input type="text" id="input5_4" />
    <br />
    <h1>
      Задание № 6 - Дан инпут. В него вводится ФИО через пробел. ФИО вводится с
      маленькой буквы. Сделайте так, чтобы по потери фокуса инпутом, введенные
      фамилия, имя и отчество автоматически стали записанными с большой буквы (в
      этом же инпуте).
    </h1>
    <input
      type="text"
      id="input6"
      placeholder="Введите ФИО c маленькой буквы"
    />
    <br />
    <h1>
      Задание № 7 - Дан инпут. В него вводится текст. По потери фокуса узнайте
      количество слов в этом тексте.
    </h1>
    <input type="text" id="input7" />
    <p id="paragraph7">Количество слов:</p>
    <br />
    <h1>
      Задание № 8 - Дан инпут. В него вводится дата в формате 31.12.2016. По
      потери фокуса в этом же инпуте поставьте эту дату в формате 2016-12-31.
    </h1>
    <input
      type="text"
      id="input8"
      placeholder="Введите дату в формате 31.12.2016"
    />
    <br />
    <h1>
      Задание № 9 - Дан инпут. В него вводится слово. По нажатию на кнопку
      проверьте то, что это слово читается с начала и с конца одинаково
      (например, мадам).
    </h1>
    <input type="text" id="input9" placeholder="Введите слово" />
    <button type="button" id="button9">Проверить слово</button>
    <br />
    <h1>
      Задание № 10 - Дан инпут. В него вводится число. Проверьте по потери
      фокуса, что это число содержит внутри себя цифру 3.
    </h1>
    <input type="text" id="input10" />
    <br />
    <h1>
      Задание № 11 - Даны несколько абзацев и кнопка. По нажатию на кнопку
      запишите в конец каждого абзаца его порядковый номер.
    </h1>
    <p class="paragraph11">Абзац</p>
    <p class="paragraph11">Абзац</p>
    <p class="paragraph11">Абзац</p>
    <button type="button" id="button11">Добавить порядковый номер</button>
    <br />
    <h1>
      Задание № 12 - Даны ссылки. Добавьте в конец каждой ссылки ее href в
      круглых скобках.
    </h1>
    <a href="qwerty" class="link12">Ссылка</a><br />
    <a href="uioplk" class="link12">Ссылка</a><br />
    <a href="asdfgh" class="link12">Ссылка</a><br />
    <button type="button" id="button12">Добавить в ссылку href</button>
    <br />
    <h1>
      Задание № 13 - Даны ссылки. Если ссылка начинается с http://, то добавьте
      ей в конец стрелку →.
    </h1>
    <a href="http://asdfg.ru" class="link13">Ссылка</a><br />
    <a href="htp://qasad.ru" class="link13">Ссылка</a><br />
    <a href="h://sfd.com" class="link13">Ссылка</a><br />
    <button type="button" id="button13">Добавить стрелку</button>
    <br />
    <h1>
      Задание № 14 - Даны несколько абзацев с числами. По нажатию на любой абзац
      запишите в него квадрат числа, которое в нем находится.
    </h1>
    <p class="paragraph14">10</p>
    <p class="paragraph14">12</p>
    <p class="paragraph14">15</p>
    <p class="paragraph14">52</p>
    <br />
    <h1>
      Задание № 15 - Дан инпут. В него вводится дата в формате 31.12.2016. По
      потери фокуса узнайте день недели (словом), который приходится на эту
      дату.
    </h1>
    <input type="text" id="input15" placeholder="Дата в формате 31.12.2016" />
    <br />
    <h1>
      Задание № 16 - Дан инпут. Реализуйте кнопочки +1, -1, которые будут
      увеличивать или уменьшать на 1 значение инпута. Сделайте так, чтобы это
      значение не могло стать меньше нуля.
    </h1>
    <input type="text" id="input16" value="0" />
    <button type="button" id="button16_plus">+1</button>
    <button type="button" id="button16_minus">-1</button>
    <br />
    <h1>
      Задание № 17 - Дан инпут. Даны абзацы. Пусть в этот инпут записывается
      суммарное количество нажатий по этим абзацам.
    </h1>
    <input type="text" id="input17" readonly />
    <p class="paragraph17">Нажми</p>
    <p class="paragraph17">Нажми</p>
    <p class="paragraph17">Нажми</p>
    <br />
    <h1>
      Задание № 18 - На странице есть дивы. В них есть текст. Обойдите все дивы
      и обрежьте тот текст, который в них стоит так, чтобы он стал длиной 10
      символов. И добавьте троеточие в конец обрезанного текста
    </h1>
    <div class="div18">
      Lorem ipsum dolor sit amet consectetur adipisicing elit. Ratione numquam
      dolore maxime ut ipsa ad quibusdam labore quas hic nisi. Sunt vero ipsum
      fugit sit similique molestias eos iusto modi.
    </div>
    <div class="div18">
      Lorem ipsum dolor sit amet consectetur adipisicing elit. Ratione numquam
      dolore maxime ut ipsa ad quibusdam labore quas hic nisi. Sunt vero ipsum
      fugit sit similique molestias eos iusto modi.
    </div>
    <div class="div18">
      Lorem ipsum dolor sit amet consectetur adipisicing elit. Ratione numquam
      dolore maxime ut ipsa ad quibusdam labore quas hic nisi. Sunt vero ipsum
      fugit sit similique molestias eos iusto modi.
    </div>
    <br />
    <h1>
      Задание № 19 - Дан инпут и кнопка. По нажатию на кнопку сгенерируйте
      случайную строку из 8-ми символов и запишите в инпут.
    </h1>
    <input type="text" id="input19" readonly />
    <button type="button" id="button19">Сгенерировать</button>
    <br />
    <h1>
      Задание № 20 - Дан инпут и кнопка. Пользователь вводит в инпут какую-то
      строку. По нажатию на кнопку перемешайте введенные символы случайным
      образом и запишите ее обратно в инпут.
    </h1>
    <input type="text" id="input20" />
    <button type="button" id="button20">Перемешать</button>
    <br />
    <h1>
      Задание № 21 - Дан инпут, кнопка и абзац. В инпут вводится температура в
      градусах Фаренгейта. По клику на кнопку выведите в абзац температуру в
      градусах Цельсия.
    </h1>
    <input type="text" id="input21" />
    <p id="paragraph21"></p>
    <button type="button" id="button21">Узнать температуру (℃)</button>
    <br />
    <h1>
      Задание № 22 - Дан инпут, кнопка и абзац. В инпут вводится число. По
      нажатию на кнопку выведите в абзац факториал этого числа.
    </h1>
    <input type="text" id="input22" />
    <p id="paragraph22"></p>
    <button type="button" id="button22">Узнать факториал числа</button>
    <br />
    <h1>
      Задание № 23 - Даны 3 инпута, кнопка и абзац. В инпуты вводятся
      коэффициенты квадратного уравнения. По нажатию на кнопку найдите корни
      этого уравнения и выведите их в абзац.
    </h1>
    <input type="text" id="input23_1" placeholder="Введите коэффициент a" />
    <input type="text" id="input23_2" placeholder="Введите коэффициент b" />
    <input type="text" id="input23_3" placeholder="Введите коэффициент c" />
    <p id="paragraph23"></p>
    <button type="button" id="button23">Найти корни уравнения</button>
    <script>
      "use strict";
      // №1
      let input1 = document.querySelector("#input1");
      let paragraph1 = document.querySelector("#paragraph1");
      input1.addEventListener("blur", function () {
        paragraph1.textContent = paragraph1.textContent + this.value;
        this.value = "";
      });

      // №2
      let button2 = document.querySelector("#button2");
      let paragraph2 = document.querySelector("#paragraph2");
      let input2_1 = document.querySelector("#input2_1");
      let input2_2 = document.querySelector("#input2_2");
      let input2_3 = document.querySelector("#input2_3");
      button2.addEventListener("click", function () {
        let sum =
          Number(input2_1.value) +
          Number(input2_2.value) +
          Number(input2_3.value);
        paragraph2.textContent = `Сумма: ${sum}`;
      });

      // №3
      let input3 = document.querySelector("#input3");
      let paragraph3 = document.querySelector("#paragraph3");
      input3.addEventListener("blur", function () {
        let number = this.value;
        let sum = 0;
        for (let i = 0; i < number.length; i++) {
          sum += parseInt(number[i], 10);
        }
        paragraph3.textContent = "Сумма цифр: " + sum;
      });

      // №4
      let input4 = document.querySelector("#input4");
      let paragraph4 = document.querySelector("#paragraph4");
      input4.addEventListener("blur", function () {
        let numbers = this.value.split(",");
        let sum = 0;
        for (let i = 0; i < numbers.length; i++) {
          sum += parseFloat(numbers[i]);
        }
        let average = sum / numbers.length;
        paragraph4.textContent =
          "Среднее арифметическое: " + average.toFixed(2);
      });

      // №5
      let input5_1 = document.querySelector("#input5_1");
      let input5_2 = document.querySelector("#input5_2");
      let input5_3 = document.querySelector("#input5_3");
      let input5_4 = document.querySelector("#input5_4");
      input5_1.addEventListener("blur", function () {
        let str = this.value.split(" ");
        input5_2.value = str[0];
        input5_3.value = str[1];
        input5_4.value = str[2];
        this.value = "";
      });

      // №6
      let input6 = document.querySelector("#input6");
      input6.addEventListener("blur", function () {
        let str = this.value.split(" ");
        let capitalizedStr = str
          .map((word) => word.charAt(0).toUpperCase() + word.slice(1))
          .join(" ");
        this.value = capitalizedStr;
      });

      // №7
      let input7 = document.querySelector("#input7");
      let paragraph7 = document.querySelector("#paragraph7");
      input7.addEventListener("blur", function () {
        let str = this.value.split(" ");
        let wordCount = str.length;
        paragraph7.textContent = "Количество слов: " + wordCount;
      });

      // №8
      let input8 = document.querySelector("#input8");
      input8.addEventListener("blur", function () {
        let inputDate = this.value;
        let dateComponents = inputDate.split(".");
        let formattedDate =
          dateComponents[2] + "-" + dateComponents[1] + "-" + dateComponents[0];
        this.value = formattedDate;
      });

      // №9
      let input9 = document.querySelector("#input9");
      let button9 = document.querySelector("#button9");
      function isPalindrome(word) {
        let lowercaseWord = word.toLowerCase();
        for (let i = 0; i < Math.floor(lowercaseWord.length / 2); i++) {
          if (
            lowercaseWord[i] !== lowercaseWord[lowercaseWord.length - 1 - i]
          ) {
            return false;
          }
        }
        return true;
      }

      button9.addEventListener("click", function () {
        let word = input9.value;
        if (isPalindrome(word)) {
          alert("Слово является палиндромом!");
        } else {
          alert("Слово не является палиндромом.");
        }
      });

      // №10
      let input10 = document.querySelector("#input10");
      input10.addEventListener("blur", function () {
        let haveThree = this.value.split("");
        let foundThree = false;
        for (let i = 0; i < haveThree.length; i++) {
          if (haveThree[i] === "3") {
            foundThree = true;
            break;
          }
        }
        if (foundThree) {
          alert("Есть число 3");
        } else {
          alert("Нет числа 3");
        }
      });

      // №11
      let button11 = document.querySelector("#button11");
      let paragraphs = document.querySelectorAll(".paragraph11");
      button11.addEventListener("click", function () {
        paragraphs.forEach(function (paragraph, index) {
          paragraph.textContent += ` (${index + 1})`;
        });
      });

      // №12
      let links12 = document.querySelectorAll(".link12");
      let button12 = document.querySelector("#button12");
      button12.addEventListener("click", function () {
        links12.forEach(function (link12) {
          link12.textContent += ` (${link12.href})`;
        });
      });

      // №13
      let links13 = document.querySelectorAll(".link13");
      let button13 = document.querySelector("#button13");
      button13.addEventListener("click", function () {
        links13.forEach(function (link13) {
          let href13 = link13.href;
          if (href13.startsWith("http://")) {
            link13.innerHTML += ` &rarr;`;
          }
        });
      });

      // №14
      let paragraphs14 = document.querySelectorAll(".paragraph14");
      paragraphs14.forEach(function (paragraphh) {
        paragraphh.addEventListener("click", function () {
          let number = parseInt(paragraphh.textContent);
          paragraphh.textContent = number ** 2;
        });
      });

      // №15
      let input15 = document.querySelector("#input15");
      input15.addEventListener("blur", function () {
        let inputDate15 = this.value;
        let dateComponents = inputDate15.split(".");
        let day = dateComponents[0];
        let month = dateComponents[1] - 1;
        let year = dateComponents[2];
        let date = new Date(year, month, day);
        let dayOfWeek = date.getDay();
        let daysOfWeek = [
          "Воскресенье",
          "Понедельник",
          "Вторник",
          "Среда",
          "Четверг",
          "Пятница",
          "Суббота",
        ];
        let dayOfWeekWord = daysOfWeek[dayOfWeek];
        alert(dayOfWeekWord);
      });

      // №16
      let input16 = document.querySelector("#input16");
      let button16_plus = document.querySelector("#button16_plus");
      let button16_minus = document.querySelector("#button16_minus");
      button16_plus.addEventListener("click", function () {
        input16.value++;
      });
      button16_minus.addEventListener("click", function () {
        if (input16.value > 0) {
          input16.value--;
        }
      });

      // №17
      let input17 = document.querySelector("#input17");
      let paragraphs17 = document.querySelectorAll(".paragraph17");
      let clickCount = 0;
      paragraphs17.forEach(function (paragraphhh) {
        paragraphhh.addEventListener("click", function () {
          clickCount++;
          input17.value = clickCount;
        });
      });

      // №18
      let divs18 = document.querySelectorAll(".div18");
      divs18.forEach((div_trimmed) => {
        let text = div_trimmed.innerText;
        if (text.length > 10) {
          let trimmedText = text.substring(0, 10);
          let finalText = trimmedText + "...";
          div_trimmed.textContent = finalText;
        }
      });

      // №19
      let input19 = document.querySelector("#input19");
      let button19 = document.querySelector("#button19");
      button19.addEventListener("click", function () {
        input19.value = generateRandomString();
      });

      function generateRandomString() {
        let characters19 =
          "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
        let randomString = "";
        for (let i = 0; i < 8; i++) {
          randomString += characters19.charAt(
            Math.floor(Math.random() * characters19.length)
          );
        }
        return randomString;
      }

      // №20
      let input20 = document.querySelector("#input20");
      let button20 = document.querySelector("#button20");
      button20.addEventListener("click", function () {
        let inputValue = input20.value;
        let shuffledValue = shuffleString(inputValue);
        input20.value = shuffledValue;
      });

      function shuffleString(inputString) {
        let shuffledString = "";
        let characters20 = inputString.split("");
        while (characters20.length > 0) {
          let randomIndex = Math.floor(Math.random() * characters20.length);
          shuffledString += characters20[randomIndex];
          characters20.splice(randomIndex, 1);
        }
        return shuffledString;
      }

      // №21
      let input21 = document.querySelector("#input21");
      let paragraph21 = document.querySelector("#paragraph21");
      let button21 = document.querySelector("#button21");
      button21.addEventListener("click", function () {
        let tempFar = input21.value;
        let tempCel = (5 / 9) * (tempFar - 32);
        paragraph21.textContent = tempCel.toFixed(2) + " ℃";
      });

      // №22
      let input22 = document.querySelector("#input22");
      let paragraph22 = document.querySelector("#paragraph22");
      let button22 = document.querySelector("#button22");
      button22.addEventListener("click", function () {
        let num = input22.value;
        let result = factorial(num);
        paragraph22.textContent = "Факториал числа " + num + " равен " + result;
      });

      function factorial(number) {
        if (number === 0 || number === 1) {
          return 1; // Факториал 0 и 1 равен 1
        } else {
          return number * factorial(number - 1); // Рекурсивно вызываем функцию для вычисления факториала
        }
      }

      // №23
      let input23_1 = document.querySelector("#input23_1");
      let input23_2 = document.querySelector("#input23_2");
      let input23_3 = document.querySelector("#input23_3");
      let paragraph23 = document.querySelector("#paragraph23");
      let button23 = document.querySelector("#button23");

      function findRoots(a, b, c) {
        let discriminant = b * b - 4 * a * c;
        let roots = [];

        if (discriminant > 0) {
          let x1 = (-b + Math.sqrt(discriminant)) / (2 * a);
          let x2 = (-b - Math.sqrt(discriminant)) / (2 * a);
          roots.push(x1, x2);
        } else if (discriminant === 0) {
          let x = -b / (2 * a);
          roots.push(x);
        }

        return roots;
      }

      button23.addEventListener("click", function () {
        let a = parseFloat(input23_1.value);
        let b = parseFloat(input23_2.value);
        let c = parseFloat(input23_3.value);

        let roots = findRoots(a, b, c);

        if (roots.length === 0) {
          paragraph23.textContent = "Уравнение не имеет корней";
        } else if (roots.length === 1) {
          paragraph23.textContent =
            "Уравнение имеет один корень: x = " + roots[0];
        } else {
          paragraph23.textContent =
            "Уравнение имеет два корня: x1 = " +
            roots[0] +
            ", x2 = " +
            roots[1];
        }
      });
    </script>
  </body>
</html>
